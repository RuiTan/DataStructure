#include <iostream>
#include <fstream>
using namespace std;
#define MAXAMOUNT 10000


void printNums(int *nums, int left, int right, ostream &os){
	for (int i = left; i <= right; i++){
		os << nums[i] << " ";
	}
}

void QuickSort(int *nums, int left, int right){
	if (left >= right){
		return;
	}
	int temp = nums[left];
	int flag = left;
	for (int i = left; i <= right; i++){
		if (nums[i] < temp){
			if (flag == i - 1){
				nums[flag++] = nums[i];
				nums[i] = temp;
			}
			else{
				int temp2 = nums[i];
				nums[i] = nums[flag + 1];
				nums[flag + 1] = temp;
				nums[flag++] = temp2;
			}
		}
	}
	QuickSort(nums, left, flag-1);
	QuickSort(nums, flag + 1, right);
}

int main(){
	int *nums = (int*)(malloc(sizeof(int)*MAXAMOUNT));
	for (int i = 0; i < MAXAMOUNT; i++)
	{
		nums[i] = (int)(rand());
	}
	//int nums[10] = { 3, 8, 4, 1, 7, 6, 10, 5, 9, 2 };
	QuickSort(nums, 0, MAXAMOUNT-1);

	ofstream ofile("outfile.txt");
	printNums(nums, 0, MAXAMOUNT-1, ofile);
	system("pause");
}
